import{dg as fe,dj as le,aV as ve,d as he,D as T,bW as j,W as ge,Y as w,bV as pe,H,b3 as X,f as ze,c7 as be,Q as ee,dk as we,a9 as ye,be as me,k as Oe,dl as Ee}from"./index-3cca530d.js";const xe=(e,t,r)=>e=fe({},le(t,r),e),Je=(e,t=[])=>(e.backgroundColor="rgba(0,0,0,0)",xe(e,ve,t)),Qe=(e,t,r=!0)=>{if(!e)return;const i=e.getOption();i.dataset=null,e.setOption(t,{notMerge:r})};var U=null;function Ce(e){return U||(U=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){return setTimeout(t,16)}).bind(window)),U(e)}var N=null;function Le(e){N||(N=(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(t){clearTimeout(t)}).bind(window)),N(e)}function Ae(e){var t=document.createElement("style");return t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),(document.querySelector("head")||document.body).appendChild(t),t}function k(e,t){t===void 0&&(t={});var r=document.createElement(e);return Object.keys(t).forEach(function(i){r[i]=t[i]}),r}function ie(e,t,r){var i=window.getComputedStyle(e,r||null)||{display:"none"};return i[t]}function q(e){if(!document.documentElement.contains(e))return{detached:!0,rendered:!1};for(var t=e;t!==document;){if(ie(t,"display")==="none")return{detached:!1,rendered:!1};t=t.parentNode}return{detached:!1,rendered:!0}}var Se='.resize-triggers{visibility:hidden;opacity:0;pointer-events:none}.resize-contract-trigger,.resize-contract-trigger:before,.resize-expand-trigger,.resize-triggers{content:"";position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden}.resize-contract-trigger,.resize-expand-trigger{background:#eee;overflow:auto}.resize-contract-trigger:before{width:200%;height:200%}',B=0,M=null;function Te(e,t){e.__resize_mutation_handler__||(e.__resize_mutation_handler__=ke.bind(e));var r=e.__resize_listeners__;if(!r){if(e.__resize_listeners__=[],window.ResizeObserver){var i=e.offsetWidth,o=e.offsetHeight,n=new ResizeObserver(function(){!e.__resize_observer_triggered__&&(e.__resize_observer_triggered__=!0,e.offsetWidth===i&&e.offsetHeight===o)||W(e)}),u=q(e),p=u.detached,v=u.rendered;e.__resize_observer_triggered__=p===!1&&v===!1,e.__resize_observer__=n,n.observe(e)}else if(e.attachEvent&&e.addEventListener)e.__resize_legacy_resize_handler__=function(){W(e)},e.attachEvent("onresize",e.__resize_legacy_resize_handler__),document.addEventListener("DOMSubtreeModified",e.__resize_mutation_handler__);else if(B||(M=Ae(Se)),Re(e),e.__resize_rendered__=q(e).rendered,window.MutationObserver){var h=new MutationObserver(e.__resize_mutation_handler__);h.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),e.__resize_mutation_observer__=h}}e.__resize_listeners__.push(t),B++}function je(e,t){var r=e.__resize_listeners__;if(r){if(t&&r.splice(r.indexOf(t),1),!r.length||!t){if(e.detachEvent&&e.removeEventListener){e.detachEvent("onresize",e.__resize_legacy_resize_handler__),document.removeEventListener("DOMSubtreeModified",e.__resize_mutation_handler__);return}e.__resize_observer__?(e.__resize_observer__.unobserve(e),e.__resize_observer__.disconnect(),e.__resize_observer__=null):(e.__resize_mutation_observer__&&(e.__resize_mutation_observer__.disconnect(),e.__resize_mutation_observer__=null),e.removeEventListener("scroll",P),e.removeChild(e.__resize_triggers__.triggers),e.__resize_triggers__=null),e.__resize_listeners__=null}!--B&&M&&M.parentNode.removeChild(M)}}function He(e){var t=e.__resize_last__,r=t.width,i=t.height,o=e.offsetWidth,n=e.offsetHeight;return o!==r||n!==i?{width:o,height:n}:null}function ke(){var e=q(this),t=e.rendered,r=e.detached;t!==this.__resize_rendered__&&(!r&&this.__resize_triggers__&&($(this),this.addEventListener("scroll",P,!0)),this.__resize_rendered__=t,W(this))}function P(){var e=this;$(this),this.__resize_raf__&&Le(this.__resize_raf__),this.__resize_raf__=Ce(function(){var t=He(e);t&&(e.__resize_last__=t,W(e))})}function W(e){!e||!e.__resize_listeners__||e.__resize_listeners__.forEach(function(t){t.call(e,e)})}function Re(e){var t=ie(e,"position");(!t||t==="static")&&(e.style.position="relative"),e.__resize_old_position__=t,e.__resize_last__={};var r=k("div",{className:"resize-triggers"}),i=k("div",{className:"resize-expand-trigger"}),o=k("div"),n=k("div",{className:"resize-contract-trigger"});i.appendChild(o),r.appendChild(i),r.appendChild(n),e.appendChild(r),e.__resize_triggers__={triggers:r,expand:i,expandChild:o,contract:n},$(e),e.addEventListener("scroll",P,!0),e.__resize_last__={width:e.offsetWidth,height:e.offsetHeight}}function $(e){var t=e.__resize_triggers__,r=t.expand,i=t.expandChild,o=t.contract,n=o.scrollWidth,u=o.scrollHeight,p=r.offsetWidth,v=r.offsetHeight,h=r.scrollWidth,f=r.scrollHeight;o.scrollLeft=n,o.scrollTop=u,i.style.width=p+1+"px",i.style.height=v+1+"px",r.scrollLeft=h,r.scrollTop=f}var g=function(){return g=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},g.apply(this,arguments)};var Me=["getWidth","getHeight","getDom","getOption","resize","dispatchAction","convertToPixel","convertFromPixel","containPixel","getDataURL","getConnectedDataURL","appendData","clear","isDisposed","dispose"];function We(e){return t=Object.create(null),Me.forEach(function(r){t[r]=function(i){return function(){for(var o=[],n=0;n<arguments.length;n++)o[n]=arguments[n];if(!e.value)throw new Error("ECharts is not initialized yet.");return e.value[i].apply(e.value,o)}}(r)}),t;var t}var De={autoresize:[Boolean,Object]},Fe=/^on[^a-z]/,te=function(e){return Fe.test(e)};function R(e,t){var r=me(e)?Oe(e):e;return r&&typeof r=="object"&&"value"in r?r.value||t:r||t}var Ue="ecLoadingOptions",Ne={loading:Boolean,loadingOptions:Object},O=null,ae="x-vue-echarts",re=[],E=[];(function(e,t){if(e&&typeof document<"u"){var r,i=t.prepend===!0?"prepend":"append",o=t.singleTag===!0,n=typeof t.container=="string"?document.querySelector(t.container):document.getElementsByTagName("head")[0];if(o){var u=re.indexOf(n);u===-1&&(u=re.push(n)-1,E[u]={}),r=E[u]&&E[u][i]?E[u][i]:E[u][i]=p()}else r=p();e.charCodeAt(0)===65279&&(e=e.substring(1)),r.styleSheet?r.styleSheet.cssText+=e:r.appendChild(document.createTextNode(e))}function p(){var v=document.createElement("style");if(v.setAttribute("type","text/css"),t.attributes)for(var h=Object.keys(t.attributes),f=0;f<h.length;f++)v.setAttribute(h[f],t.attributes[h[f]]);var x=i==="prepend"?"afterbegin":"beforeend";return n.insertAdjacentElement(x,v),v}})(`x-vue-echarts{display:flex;flex-direction:column;width:100%;height:100%;min-width:0}
.vue-echarts-inner{flex-grow:1;min-width:0;width:auto!important;height:auto!important}
`,{});var qe=function(){if(O!=null)return O;if(typeof HTMLElement>"u"||typeof customElements>"u")return O=!1;try{new Function("tag",`class EChartsElement extends HTMLElement {
  __dispose = null;

  disconnectedCallback() {
    if (this.__dispose) {
      this.__dispose();
      this.__dispose = null;
    }
  }
}

if (customElements.get(tag) == null) {
  customElements.define(tag, EChartsElement);
}
`)(ae)}catch{return O=!1}return O=!0}(),Be="ecTheme",Pe="ecInitOptions",$e="ecUpdateOptions",ne=/(^&?~?!?)native:/,Ve=he({name:"echarts",props:g(g({option:Object,theme:{type:[Object,String]},initOptions:Object,updateOptions:Object,group:String,manualUpdate:Boolean},De),Ne),emits:{},inheritAttrs:!1,setup:function(e,t){var r=t.attrs,i=T(),o=T(),n=T(),u=T(),p=j(Be,null),v=j(Pe,null),h=j($e,null),f=ge(e),x=f.autoresize,se=f.manualUpdate,oe=f.loading,ue=f.loadingOptions,_e=w(function(){return u.value||e.option||null}),I=w(function(){return e.theme||R(p,{})}),J=w(function(){return e.initOptions||R(v,{})}),Q=w(function(){return e.updateOptions||R(h,{})}),ce=w(function(){return function(s){var a={};for(var _ in s)te(_)||(a[_]=s[_]);return a}(r)}),D={},C=pe().proxy.$listeners,L={};function A(s){if(o.value){var a=n.value=we(o.value,I.value,J.value);e.group&&(a.group=e.group),Object.keys(L).forEach(function(l){var c=L[l];if(c){var d=l.toLowerCase();d.charAt(0)==="~"&&(d=d.substring(1),c.__once__=!0);var y=a;if(d.indexOf("zr:")===0&&(y=a.getZr(),d=d.substring(3)),c.__once__){delete c.__once__;var b=c;c=function(){for(var m=[],z=0;z<arguments.length;z++)m[z]=arguments[z];b.apply(void 0,m),y.off(d,c)}}y.on(d,c)}}),x.value?ye(function(){a&&!a.isDisposed()&&a.resize(),_()}):_()}function _(){var l=s||_e.value;l&&a.setOption(l,Q.value)}}function F(){n.value&&(n.value.dispose(),n.value=void 0)}C?Object.keys(C).forEach(function(s){ne.test(s)?D[s.replace(ne,"$1")]=C[s]:L[s]=C[s]}):Object.keys(r).filter(function(s){return te(s)}).forEach(function(s){var a=s.charAt(2).toLowerCase()+s.slice(3);if(a.indexOf("native:")!==0)a.substring(a.length-4)==="Once"&&(a="~".concat(a.substring(0,a.length-4))),L[a]=r[s];else{var _="on".concat(a.charAt(7).toUpperCase()).concat(a.slice(8));D[_]=r[s]}});var S=null;H(se,function(s){typeof S=="function"&&(S(),S=null),s||(S=H(function(){return e.option},function(a,_){a&&(n.value?n.value.setOption(a,g({notMerge:a!==_},Q.value)):A())},{deep:!0}))},{immediate:!0}),H([I,J],function(){F(),A()},{deep:!0}),X(function(){e.group&&n.value&&(n.value.group=e.group)});var de=We(n);return function(s,a,_){var l=j(Ue,{}),c=w(function(){return g(g({},R(l,{})),_?.value)});X(function(){var d=s.value;d&&(a.value?d.showLoading(c.value):d.hideLoading())})}(n,oe,ue),function(s,a,_){var l=null;H([_,s,a],function(c,d,y){var b=c[0],m=c[1],z=c[2];if(b&&m&&z){var V=z===!0?{}:z,Z=V.throttle,G=Z===void 0?100:Z,K=V.onResize,Y=function(){m.resize(),K?.()};l=G?Ee(Y,G):Y,Te(b,l)}y(function(){b&&l&&je(b,l)})})}(n,x,o),ze(function(){A()}),be(function(){qe&&i.value?i.value.__dispose=F:F()}),g({chart:n,root:i,inner:o,setOption:function(s,a){e.manualUpdate&&(u.value=s),n.value?n.value.setOption(s,a||{}):A(s)},nonEventAttrs:ce,nativeListeners:D},de)},render:function(){var e=g(g({},this.nonEventAttrs),this.nativeListeners);return e.ref="root",e.class=e.class?["echarts"].concat(e.class):"echarts",ee(ae,e,[ee("div",{ref:"inner",class:"vue-echarts-inner"})])}});export{Ve as H,Je as e,xe as m,Qe as s};
