import{d as J,W as Q,e as S,U as r,Y as b,m as c,o as n,B as i,w as t,j as o,k as _,c as v,F as h,n as A,C as H,h as p,t as B,b2 as X,a as Z}from"./index-3cca530d.js";import{g as tt}from"./plugin-ede68460.js";import{i as I}from"./icon-8135a16a.js";import{u as et}from"./useKeyboard.hook-5ecd0895.js";import{u as ot}from"./useSync.hook-0f97b777.js";import{u as st,a as nt,H as m}from"./chartEditStore-eacdd3b3.js";import{u as w,C as d}from"./chartLayoutStore-42609aea.js";import"./index-e27881ef.js";import"./SettingItem-281a83da.js";/* empty css                                                                      */import"./SettingItemBox-54f3c96d.js";import"./CollapseItem.vue_vue_type_script_setup_true_lang-47c71c0e.js";import"./index.esm.min-1d723dc8.js";import"./vchart-3818fc35.js";import"./fileTypeEnum-21359a08.js";import"./project.api-cdb3f370.js";const at={class:"save-btn"},rt=J({__name:"index",setup(ct){const{LayersIcon:L,BarChartIcon:x,PrismIcon:D,HomeIcon:E,ArrowBackIcon:F,ArrowForwardIcon:R}=I.ionicons5,{SaveIcon:K}=I.carbon,{setItem:T}=w(),{dataSyncUpdate:z}=ot(),{getLayers:$,getCharts:W,getDetails:N}=Q(w()),y=st(),k=nt(),O=S([{key:d.CHARTS,select:W,title:"图表组件",icon:r(x)},{key:d.LAYERS,select:$,title:"图层控制",icon:r(L)},{key:d.DETAILS,select:N,title:"详情设置",icon:r(D)}]),P=b(()=>k.getBackStack.length>1),U=b(()=>k.getForwardStack.length>0),V=S([{key:m.BACK_STACK,select:P,title:"后退",icon:r(F)},{key:m.FORWARD_STACK,select:U,title:"前进",icon:r(R)}]),Y=s=>s.key===d.DETAILS?s.select?"":"primary":s.select?"primary":"",j=s=>{T(s.key,!s.select)},q=s=>{switch(s.key){case m.BACK_STACK:y.setBack();break;case m.FORWARD_STACK:y.setForward();break}},M=()=>{tt({message:"确定已保存了数据（Ctrl / ⌘ + S），并返回到首页吗？",isMaskClosable:!0,onPositiveCallback:()=>{X(),et()}})};return(s,a)=>{const g=c("n-icon"),l=c("n-button"),u=c("n-tooltip"),f=c("n-divider"),C=c("n-space");return n(),i(C,{class:"header-left-btn",wrap:!1,size:25},{default:t(()=>[o(l,{size:"small",quaternary:"",onClick:a[0]||(a[0]=e=>M())},{icon:t(()=>[o(g,{depth:3},{default:t(()=>[o(_(E))]),_:1})]),_:1}),o(C,{wrap:!1},{default:t(()=>[(n(!0),v(h,null,A(O,e=>(n(),i(u,{key:e.key,placement:"bottom",trigger:"hover"},{trigger:t(()=>[o(l,{size:"small",ghost:"",type:Y(e),focusable:!1,onClick:G=>j(e)},{default:t(()=>[(n(),i(H(e.icon)))]),_:2},1032,["type","onClick"])]),default:t(()=>[p("span",null,B(e.title),1)]),_:2},1024))),128)),o(f,{vertical:""}),(n(!0),v(h,null,A(V,e=>(n(),i(u,{key:e.key,placement:"bottom",trigger:"hover"},{trigger:t(()=>[o(l,{size:"small",ghost:"",type:"primary",disabled:!e.select,onClick:G=>q(e)},{default:t(()=>[(n(),i(H(e.icon)))]),_:2},1032,["disabled","onClick"])]),default:t(()=>[p("span",null,B(e.title),1)]),_:2},1024))),128)),o(f,{vertical:""}),o(u,{placement:"bottom",trigger:"hover"},{trigger:t(()=>[p("div",at,[o(l,{size:"small",type:"primary",ghost:"",onClick:a[1]||(a[1]=e=>_(z)())},{icon:t(()=>[o(g,null,{default:t(()=>[o(_(K))]),_:1})]),_:1})])]),default:t(()=>[a[2]||(a[2]=p("span",null,"保存",-1))]),_:1})]),_:1})]),_:1})}}});const At=Z(rt,[["__scopeId","data-v-6b5b960a"]]);export{At as default};
