import{d as g,b as u,aI as p,b3 as I,Y as N,aB as P,m as o,o as j,B,w as c,j as n,k as R,q as T,N as m,h as k,t as b,O as _,p as z,a9 as A,R as M,a5 as O,a as U}from"./index-3cca530d.js";import{i as V}from"./icon-8135a16a.js";import{u as D,E as F,P as J}from"./chartEditStore-eacdd3b3.js";import{u as K}from"./project.api-cdb3f370.js";import{u as q}from"./useSync.hook-0f97b777.js";import"./plugin-ede68460.js";import"./chartLayoutStore-42609aea.js";import"./index-e27881ef.js";import"./SettingItem-281a83da.js";/* empty css                                                                      */import"./SettingItemBox-54f3c96d.js";import"./CollapseItem.vue_vue_type_script_setup_true_lang-47c71c0e.js";import"./index.esm.min-1d723dc8.js";import"./vchart-3818fc35.js";import"./fileTypeEnum-21359a08.js";const H={class:"title"},L=g({__name:"index",setup(Y){const i=D(),{dataSyncUpdate:d}=q(),{FishIcon:f}=V.ionicons5,a=u(!1),r=u(null),e=u(p());I(()=>{e.value=i.getProjectInfo.projectName||""});const v=N(()=>{e.value=e.value.replace(/\s/g,"");const t=e.value.length?e.value:"新项目";return P(`工作空间-${t}`),i.setEditCanvasConfig(F.PROJECT_NAME,t),t}),h=()=>{a.value=!0,A(()=>{r.value&&r.value.focus()})},l=async()=>{a.value=!1,i.setProjectInfo(J.PROJECT_NAME,e.value||"");const t=await K({id:p(),projectName:e.value});t&&t.code===M.SUCCESS?d():O()};return(t,s)=>{const E=o("n-icon"),x=o("n-button"),C=o("n-text"),y=o("n-input"),w=o("n-space");return j(),B(w,null,{default:c(()=>[n(E,{size:"20",depth:3},{default:c(()=>[n(R(f))]),_:1}),n(C,{onClick:h},{default:c(()=>[s[1]||(s[1]=T(" 工作空间 - ")),m(n(x,{secondary:"",size:"tiny"},{default:c(()=>[k("span",H,b(v.value),1)]),_:1},512),[[_,!a.value]])]),_:1}),m(n(y,{ref_key:"inputInstRef",ref:r,size:"small",type:"text",maxlength:"16","show-count":"",placeholder:"请输入项目名称",value:e.value,"onUpdate:value":s[0]||(s[0]=S=>e.value=S),valueModifiers:{trim:!0},onKeyup:z(l,["enter"]),onBlur:l},null,8,["value"]),[[_,a.value]])]),_:1})}}});const ue=U(L,[["__scopeId","data-v-4af849d3"]]);export{ue as default};
