import{d as T,b as B,D as K,E as L,G as $,P as E,H as V,m as o,o as a,B as r,w as e,j as t,q as F,t as O,C as b,k as n,c as N,n as G,F as R,I as q,R as J,J as Q,L as X,a as C,M as Y,h as w,N as A,O as S,e as Z,Q as I,U as H,V as P,W as ee,X as te,z as ne,Y as oe,f as ae,Z as se,$ as le,a0 as ce,K as re}from"./index-3cca530d.js";import{i as k}from"./icon-8135a16a.js";import{c as ie}from"./project.api-cdb3f370.js";import{_ as de}from"./index.vue_vue_type_script_setup_true_lang-a79bb438.js";import"./index-6270b1c7.js";const _e=T({__name:"index",props:{show:Boolean},emits:["close"],setup(i,{emit:s}){const{FishIcon:p,CloseIcon:l}=k.ionicons5,{StoreIcon:c,ObjectStorageIcon:f}=k.carbon,d=B(!1),v=s,x=i,_=K([{title:L("project.new_project"),key:$.CHART_HOME_NAME,icon:p,disabled:!1},{title:L("project.my_template"),key:E.BASE_HOME_TEMPLATE_NAME,icon:f,disabled:!0}]);V(()=>x.show,y=>{d.value=y});const m=()=>{v("close",!1)},g=async y=>{switch(y){case $.CHART_HOME_NAME:try{const u=await ie({projectName:q(),remarks:null,indexImage:null});if(u&&u.code===J.SUCCESS){window.$message.success(window.$t("project.create_success"));const{id:j}=u.data,M=Q($.CHART_HOME_NAME,"href");X(M,[j],void 0,!0),m()}}catch{window.$message.error(window.$t("project.create_failure"))}break}};return(y,u)=>{const j=o("n-text"),M=o("n-icon"),z=o("n-button"),D=o("n-space"),W=o("n-card"),U=o("n-modal");return a(),r(U,{show:d.value,"onUpdate:show":u[0]||(u[0]=h=>d.value=h),class:"go-create-modal",onAfterLeave:m},{default:e(()=>[t(D,{size:"large"},{default:e(()=>[t(W,{class:"card-box",hoverable:""},{header:e(()=>[t(j,{class:"card-box-tite"},{default:e(()=>[F(O(y.$t("project.create_tip")),1)]),_:1})]),"header-extra":e(()=>[t(j,{onClick:m},{default:e(()=>[t(M,{size:"20"},{default:e(()=>[(a(),r(b(n(l))))]),_:1})]),_:1})]),action:e(()=>u[1]||(u[1]=[])),default:e(()=>[t(D,{class:"card-box-content",justify:"center"},{default:e(()=>[(a(!0),N(R,null,G(_.value,h=>(a(),r(z,{size:"large",disabled:h.disabled,key:h.key,onClick:Ae=>g(h.key)},{icon:e(()=>[t(M,{size:"18"},{default:e(()=>[(a(),r(b(h.icon)))]),_:2},1024)]),default:e(()=>[(a(),r(b(h.title)))]),_:2},1032,["disabled","onClick"]))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["show"])}}});const ue=C(_e,[["__scopeId","data-v-adfb0718"]]),pe=T({__name:"index",props:{collapsed:Boolean},setup(i){const{DuplicateIcon:s,DuplicateOutlineIcon:p}=k.ionicons5,l=Y(),c=B(!1),f=()=>{c.value=!0},d=()=>{c.value=!1};return(v,x)=>{const _=o("n-icon"),m=o("n-button"),g=o("n-tooltip");return a(),N(R,null,[w("div",{onClick:f},[i.collapsed?(a(),r(g,{key:0,placement:"right",trigger:"hover"},{trigger:e(()=>[t(m,{ghost:"",type:"primary",size:"small"},{icon:e(()=>[t(_,null,{default:e(()=>[A(t(n(p),null,null,512),[[S,n(l).getDarkTheme]]),A(t(n(s),null,null,512),[[S,!n(l).getDarkTheme]])]),_:1})]),_:1})]),default:e(()=>[w("span",null,O(v.$t("project.create_btn")),1)]),_:1})):(a(),r(m,{key:1,ghost:"",type:"primary"},{icon:e(()=>[t(_,null,{default:e(()=>[A(t(n(p),null,null,512),[[S,n(l).getDarkTheme]]),A(t(n(s),null,null,512),[[S,!n(l).getDarkTheme]])]),_:1})]),default:e(()=>[w("span",null,O(v.$t("project.create_btn")),1)]),_:1}))]),t(n(ue),{show:c.value,onClose:d},null,8,["show"])],64)}}}),{GridIcon:He,TvOutlineIcon:me}=k.ionicons5,{StoreIcon:Oe,ObjectStorageIcon:fe,DevicesIcon:ve}=k.carbon,ye=()=>["all-project"],he=()=>{const i=window.$t;return Z([{key:"divider-1",type:"divider"},{label:()=>I("span",null,{default:()=>i("project.project")}),key:"all-project",icon:H(ve),children:[{type:"group",label:()=>I("span",null,{default:()=>i("project.my")}),key:"my-project",children:[{label:()=>I(P,{to:{name:E.BASE_HOME_ITEMS_NAME}},{default:()=>i("project.all_project")}),key:E.BASE_HOME_ITEMS_NAME,icon:H(me)},{label:()=>I(P,{to:{name:E.BASE_HOME_TEMPLATE_NAME}},{default:()=>i("project.my_template")}),key:E.BASE_HOME_TEMPLATE_NAME,icon:H(fe)}]}]},{key:"divider-2",type:"divider"}])},we={class:"go-project-sider-flex"},ge=T({__name:"index",setup(i){const s=B(!1),{getAsideCollapsedWidth:p}=ee(te()),l=ne(),c=oe(()=>l.name),f=he(),d=ye(),v=()=>{document.body.clientWidth<=950?s.value=!0:s.value=!1};return ae(()=>{window.addEventListener("resize",v)}),se(()=>{window.removeEventListener("resize",v)}),(x,_)=>{const m=o("n-space"),g=o("n-menu"),y=o("n-layout-sider");return a(),r(y,{class:"go-project-sider",bordered:"","collapse-mode":"width","show-trigger":"bar",collapsed:s.value,"native-scrollbar":!1,"collapsed-width":n(p),width:n(le),onCollapse:_[0]||(_[0]=u=>s.value=!0),onExpand:_[1]||(_[1]=u=>s.value=!1)},{default:e(()=>[w("div",we,[w("aside",null,[t(m,{vertical:"",class:"go-project-sider-top"},{default:e(()=>[t(n(pe),{collapsed:s.value},null,8,["collapsed"])]),_:1}),t(g,{value:c.value,options:n(f),"collapsed-width":n(p),"collapsed-icon-size":22,"default-expanded-keys":n(d)},null,8,["value","options","collapsed-width","default-expanded-keys"])]),_[2]||(_[2]=w("div",{class:"sider-bottom"},null,-1))])]),_:1},8,["collapsed","collapsed-width","width"])}}});const Ee=C(ge,[["__scopeId","data-v-87662369"]]),be={};function ke(i,s){const p=o("router-view");return a(),r(p,null,{default:e(({Component:l,route:c})=>[t(ce,{name:"fade",mode:"out-in",appear:""},{default:e(()=>[c.meta.noKeepAlive?(a(),r(b(l),{key:c.fullPath})):(a(),r(re,{key:1},[(a(),r(b(l),{key:c.fullPath}))],1024))]),_:2},1024)]),_:1})}const xe=C(be,[["render",ke]]),je={class:"go-project"},Me=T({__name:"index",setup(i){return(s,p)=>{const l=o("n-space"),c=o("router-view"),f=o("n-layout-content"),d=o("n-layout");return a(),N("div",je,[t(d,{"has-sider":"",position:"absolute"},{default:e(()=>[t(l,{vertical:""},{default:e(()=>[t(n(Ee))]),_:1}),t(d,null,{default:e(()=>[t(n(de)),t(d,{id:"go-project-content-top",class:"content-top",position:"absolute","native-scrollbar":!1},{default:e(()=>[t(f,null,{default:e(()=>[t(n(xe),null,{default:e(()=>[t(c)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}}});const Be=C(Me,[["__scopeId","data-v-56b2da50"]]);export{Be as default};
