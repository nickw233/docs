import{d as N,X as ge,Y as he,e as ve,b as m,H as R,m as u,o as y,c as w,N as T,O as H,j as c,k as s,h as x,w as p,aa as fe,a as F,M as ye,W as Ce,bb as be,b9 as ee,bc as Oe,Z as Se,bd as ke,F as G,n as q,B as L,q as K,t as Y,ar as $,aZ as Ie,U as O,be as xe,a2 as we}from"./index-3cca530d.js";import{C as Te}from"./index-f0373cd4.js";import{l as Ee,c as Z}from"./index-6270b1c7.js";import{c as te,b as He,_ as Le,f as Ne,d as Ae,e as Pe}from"./index-e27881ef.js";import{a as Re,b as $e,l as Be}from"./plugin-ede68460.js";import{i as z}from"./icon-8135a16a.js";import{u as M,a as W,C as B}from"./chartLayoutStore-42609aea.js";import{u as Fe,b as S,c as k}from"./chartEditStore-eacdd3b3.js";const ze={class:"go-chart-common"},Me={class:"chart-content-list"},Ve=N({__name:"index",props:{selectOptions:{type:Object,default:()=>{}}},setup(C){const i=Ee(()=>fe(()=>import("./index-e6d3c79c.js"),["./index-e6d3c79c.js","./index-4c3bf959.js","./index-3cca530d.js","../css/index-fa45cf35.css","./icon-8135a16a.js","../css/index-c6848bc3.css","./chartEditStore-eacdd3b3.js","./plugin-ede68460.js","./chartLayoutStore-42609aea.js","./index-e27881ef.js","./SettingItem-281a83da.js","../css/StylesSetting-fada84e6.css","./SettingItemBox-54f3c96d.js","./CollapseItem.vue_vue_type_script_setup_true_lang-47c71c0e.js","./index.esm.min-1d723dc8.js","./vchart-3818fc35.js","./fileTypeEnum-21359a08.js","../css/index-18ae7cda.css","./index-6270b1c7.js","../css/index-86a264d4.css","./index-f0373cd4.js","../css/index-1cb772cf.css","../css/index-7f36d0db.css"],import.meta.url)),g=te(),_=C,h=ge(),d=he(()=>t.categorysNum>2?!0:!h.getHidePackageOneCategory);let t=ve({menuOptions:[],selectOptions:{},categorys:{all:[]},categoryNames:{all:"所有"},categorysNum:0,saveSelectOptions:{}});const l=m("all"),v=n=>{for(const o in n){t.selectOptions=n[o];break}};R(()=>_.selectOptions,n=>{if(t.categorysNum=0,!!n){n.list.forEach(o=>{const b=t.categorys[o.category];t.categorys[o.category]=b&&b.length?[...b,o]:[o],t.categoryNames[o.category]=o.categoryName,t.categorys.all.push(o)});for(const o in t.categorys)t.categorysNum+=1,t.menuOptions.push({key:o,label:t.categoryNames[o]});v(t.categorys),l.value=t.menuOptions[0].key}},{immediate:!0}),R(()=>g.newPhoto,n=>{if(!n)return;const o=n.category;t.categorys[o].splice(1,0,n),t.categorys.all.splice(1,0,n)});const f=(n,o)=>{t.categorys[n.category].splice(o,1),t.categorys.all.splice(o,1)},I=n=>{t.selectOptions=t.categorys[n]};return(n,o)=>{const b=u("n-menu"),V=u("n-scrollbar");return y(),w("div",ze,[T(c(b,{class:"chart-menu-width",value:l.value,"onUpdate:value":[o[0]||(o[0]=A=>l.value=A),I],options:s(t).menuOptions,"icon-size":16,indent:18},null,8,["value","options"]),[[H,d.value]]),x("div",Me,[c(V,{trigger:"none"},{default:p(()=>[c(s(i),{menuOptions:s(t).selectOptions,onDeletePhoto:f},null,8,["menuOptions"])]),_:1})])])}}});const Ue=F(Ve,[["__scopeId","data-v-7b1aa2ee"]]),De=ye(),oe=m(De.getAppTheme),{setItem:X}=M(),{getCharts:J}=Ce(M()),je={class:"list-img",alt:"图表图片"},Ge=N({__name:"index",props:{chartConfig:{type:Object,required:!0}},setup(C){const i=C,g=m(""),_=async()=>{g.value=await He(i.chartConfig)};return R(()=>i.chartConfig.key,()=>_(),{immediate:!0}),(h,d)=>{const t=be("lazy");return T((y(),w("img",je,null,512)),[[t,g.value]])}}}),qe={class:"go-chart-search-box"},Ke={class:"search-list-box"},Ye=["title","onClick"],Ze=N({__name:"index",props:{menuOptions:{type:Array,default:()=>[]}},setup(C){ee(e=>({"4558f71a":s(oe)}));const i=C,g=Fe(),_=M(),{SearchIcon:h,AlbumsIcon:d,GridIcon:t}=z.ionicons5,l=m(!1),v=m(!1),f=m(void 0),I=m(null),n=m([]),o=m(_.getChartType),b=[{label:"单列",icon:d,value:W.SINGLE},{label:"双列",icon:t,value:W.DOUBLE}],A=(e=>{const a=[];for(const E of e)a.push(...E.list);return a})(i.menuOptions),P=()=>{f.value=void 0,v.value=!1,I.value=null,n.value=[]},ne=e=>{if(!Ie(e)||!e.length){P();return}f.value=!0,v.value=!0,n.value=A.filter(a=>!a.disabled&&(!e||a.title.toLowerCase().includes(e.toLowerCase()))),setTimeout(()=>{f.value=void 0},500)},U=e=>{v.value&&e.target&&(e.target.closest(".go-chart-search")||P())},se=async e=>{if(!e.disabled)try{Re(),Z(e.chartKey,Ne(e)),Z(e.conKey,Ae(e));let a=await Pe(e);e.redirectComponent&&(e.dataset&&(a.option.dataset=e.dataset),a.chartConfig.title=e.title,a.chartConfig.chartFrame=e.chartFrame),g.addComponentList(a,!1,!0),g.setTargetSelectChart(a.id),P(),$e()}catch{Be(),window.$message.warning("图表正在研发中, 敬请期待...")}},D=e=>{l.value=e},ae=e=>{o.value=e,_.setItem(B.Chart_TYPE,e)};return Oe(document,"click",e=>{U(e)}),Se(()=>{ke(document,"click",U)}),(e,a)=>{const E=u("n-icon"),ce=u("n-input"),le=u("n-input-group"),re=u("n-empty"),ie=u("n-text"),ue=u("n-scrollbar"),pe=u("n-popover"),de=u("n-tooltip"),_e=u("n-button"),me=u("n-button-group");return y(),w("div",qe,[x("div",{class:$(["chart-search go-transition",{"chart-search-focus":l.value}])},[c(pe,{class:"chart-search-popover","show-arrow":!1,show:v.value,to:!1,trigger:"hover",placement:"bottom-start"},{trigger:p(()=>[c(le,null,{default:p(()=>[c(ce,{size:"small",placeholder:"搜索组件",value:I.value,"onUpdate:value":[a[0]||(a[0]=r=>I.value=r),ne],valueModifiers:{trim:!0},loading:f.value,onFocus:a[1]||(a[1]=r=>D(!0)),onBlur:a[2]||(a[2]=r=>D(!1))},{suffix:p(()=>[T(c(E,{component:s(h)},null,8,["component"]),[[H,!f.value]])]),_:1},8,["value","loading"])]),_:1})]),default:p(()=>[x("div",Ke,[c(ue,{style:{"max-height":"500px"}},{default:p(()=>[T(c(re,{size:"small",description:"没有找到组件~"},null,512),[[H,!n.value.length]]),(y(!0),w(G,null,q(n.value,r=>(y(),w("div",{class:"list-item go-flex-items-center go-ellipsis-1",key:r.key,title:r.title,onClick:j=>se(r)},[r.icon?(y(),L(s(Le),{key:0,class:"list-img",icon:r.icon,color:"#999",width:"20"},null,8,["icon"])):(y(),L(s(Ge),{key:1,class:"list-item-img",chartConfig:r},null,8,["chartConfig"])),c(ie,{class:"list-item-fs",depth:"2"},{default:p(()=>[K(Y(r.title),1)]),_:2},1024)],8,Ye))),128))]),_:1}),a[3]||(a[3]=x("div",{class:"popover-modal"},null,-1))])]),_:1},8,["show"])],2),c(me,{class:$(["btn-group go-transition",{"btn-group-focus":l.value}]),style:{display:"flex"}},{default:p(()=>[(y(),w(G,null,q(b,(r,j)=>c(_e,{ghost:"",size:"small",key:j,type:o.value===r.value?"primary":"tertiary",onClick:pt=>ae(r.value)},{default:p(()=>[c(de,{"show-arrow":!1,trigger:"hover"},{trigger:p(()=>[c(E,{size:"14",component:r.icon},null,8,["component"])]),default:p(()=>[K(" "+Y(r.label),1)]),_:2},1024)]),_:2},1032,["type","onClick"])),64))]),_:1},8,["class"])])}}});const We=F(Ze,[["__scopeId","data-v-213ed1e1"]]),{AirPlaneOutlineIcon:Xe,ImageIcon:Je,BarChartIcon:Qe}=z.ionicons5,{TableSplitIcon:et,RoadmapIcon:tt,ChartPieIcon:ot,SpellCheckIcon:nt,GraphicalDataFlowIcon:st,GlobeIcon:at}=z.carbon,Q={[S.CHARTS]:{icon:O(tt),label:k.CHARTS},[S.VCHART]:{icon:O(ot),label:k.VCHART},[S.INFORMATIONS]:{icon:O(nt),label:k.INFORMATIONS},[S.TABLES]:{icon:O(et),label:k.TABLES},[S.DECORATES]:{icon:O(st),label:k.DECORATES},[S.PHOTOS]:{icon:O(Je),label:k.PHOTOS},[S.ICONS]:{icon:O(Xe),label:k.ICONS},[S.CESIUM]:{icon:O(at),label:k.CESIUM}},ct=()=>{const C=te(),i=[];(()=>{for(const l in C.getPackagesList)i.push({key:l,icon:Q[l].icon,label:Q[l].label,list:C.getPackagesList[l]})})();let _=i[0].key;const h=m(i[0].key),d=m(i[0]);return{getCharts:J,BarChartIcon:Qe,themeColor:oe,selectOptions:d,selectValue:h,clickItemHandle:(l,v)=>{d.value=v,_===l?X(B.CHARTS,!J.value,!1):X(B.CHARTS,!0,!1),_=l},menuOptions:i}},lt={class:"menu-width-box"},rt={class:"menu-component-box"},it=N({__name:"index",setup(C){ee(v=>({a65d33fe:s(_)}));const{getCharts:i,BarChartIcon:g,themeColor:_,selectOptions:h,selectValue:d,clickItemHandle:t,menuOptions:l}=ct();return(v,f)=>{const I=u("n-icon"),n=u("n-menu"),o=u("go-skeleton");return y(),L(s(Te),{class:$(["go-content-charts",{scoped:!s(i)}]),title:"组件",depth:1,backIcon:!1},{icon:p(()=>[c(I,{size:"14",depth:2},{default:p(()=>[c(s(g))]),_:1})]),"top-right":p(()=>[T(c(s(We),{menuOptions:s(l)},null,8,["menuOptions"]),[[H,s(i)]])]),default:p(()=>[x("aside",null,[x("div",lt,[c(n,{class:"menu-width",value:s(d),"onUpdate:value":[f[0]||(f[0]=b=>xe(d)?d.value=b:null),s(t)],options:s(l),"icon-size":16,indent:18},null,8,["value","options","onUpdate:value"]),x("div",rt,[c(o,{load:!s(h),round:"",text:"",repeat:2,style:{width:"90%"}},null,8,["load"]),s(h)?(y(),L(s(Ue),{selectOptions:s(h),key:s(d)},null,8,["selectOptions"])):we("",!0)])])])]),_:1},8,["class"])}}});const ut=F(it,[["__scopeId","data-v-f892928e"]]),Ct=Object.freeze(Object.defineProperty({__proto__:null,default:ut},Symbol.toStringTag,{value:"Module"}));export{Ge as _,Ct as i};
